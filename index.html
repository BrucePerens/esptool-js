<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta charset="utf-8">
  <title>ESP Tool</title>
  <link rel="stylesheet" href="https://unpkg.com/xterm@5.1.0/css/xterm.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Orbitron"
  rel="stylesheet">
  <link rel="icon" href="favicon.ico">
  <script type="importmap">
    {
      "imports": {
        "bootstrap":    "https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js",
        "crypto-js":    "https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js",
        "error":        "./error.mjs",
        "ESPLoader":    "./ESPLoader.mjs",
        "index":        "./index.mjs",
        "jquery":       "https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js",
        "pako":         "https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.3/pako.js",
        "webserial":    "./webserial.mjs",

        "xterm":        "https://unpkg.com/xterm@5.1.0/lib/xterm.js",
        "xterm-addon-fit": "https://unpkg.com/xterm-addon-fit@0.7.0/lib/xterm-addon-fit.js",
        "xterm-addon-web-links": "https://unpkg.com/xterm-addon-web-links@0.8.0/lib/xterm-addon-web-links.js"
      }
    }
  </script>
  <script type="module">
    import 'index';
  </script>
  <!-- The browser can't load CryptoJS 4.1.1 as a native ES6 module. -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js">
  </script>
</head>

<body id="body">
  <div id="consolePage" style="display:none;padding=1em;">
    <input class="btn btn-info btn-sm" type="button" id="goToProgramPageButton" value="Program">
    <input class="btn btn-info btn-sm" type="button" id="disconnectConsoleButton" value="Disconnect">
    <input class="btn btn-info btn-sm" type="button" id="resetButton" value="Reset">
    <output id="terminal" style="object-fit: cover;"></div>
  </div>

  <div id="connectPage">
    <h3>ESP32 Tool</h3><label for="programmingBaudrates" id="lblProgrammingBaudrate">Programming Baudrate:</label>
    <select name="programmingBaudrates" id="programmingBaudrates">
      <option value="921600">
        921600
      </option>
      <option value="460800">
        460800
      </option>
      <option value="230400">
        230400
      </option>
      <option value="115200">
        115200
      </option>
    </select> <label for="romBaudrates" id="lblRomBaudrate">ROM
    Baudrate:</label> 
    <!-- Default ROM baudrate for ESP32 is 115200. -->
     <select name="romBaudrates" id="romBaudrates">
      <option value="115200">
        115200
      </option>
      <option value="230400">
        230400
      </option>
      <option value="460800">
        460800
      </option>
      <option value="921600">
        921600
      </option>
    </select> <input class="btn btn-info btn-sm" type="button" id=
    "connectButton" value="Connect">
  </div>

  <div id="programPage" style="display:none;">
    <input class="btn btn-warning btn-sm" type="button" id="goToConsolePageButton" value="Console">
    <input class="btn btn-warning btn-sm" type="button" id="disconnectButton" value="Disconnect">
    <input class="btn btn-danger btn-sm" type="button" id="eraseButton" value="Erase Flash">
    <input class="btn btn-danger btn-sm" type="button" id="programButton" value="Program">
    <table>
      <tr>
        <th>
          <label for="deviceName">Connected to device:</label>
        </th>
        <td>
          <output id="deviceName"></output>
        </td>
      </tr>
      <tr>
        <th>
          <label for="deviceFeatures">Features:</label>
        </th>
        <td>
          <output id="deviceFeatures"></output>
        </td>
      </tr>
      <tr>
        <th>
          <label for="crystalFrequency">Crystal Freqency:</label>
        </th>
        <td>
          <output id="crystalFrequency"></output>
        </td>
      </tr>
      <tr>
        <th>
          <label for="macAddress">MAC Address:</label>
        </th>
        <td>
          <output id="macAddress"></output>
        </td>
      </tr>
    </table>
    <table>
      <tr>
        <th>
           <label for="localFileInput">Add local files:</label>
        </td>
        <td>
          <input type="file" id="localFileInput" multiple accept=".bin">
        </td>
      </tr>
      <tr>
        <th>
           <label for="urlFileInput">Add file at URL:</label>
        </th>
        <td>
          <input type="url" id="urlFileInput" pattern="*.bin">
        </td>
      </tr>
    </table>
  </div>
  <div id="progressPage">
  </div>
</body>
</html>
